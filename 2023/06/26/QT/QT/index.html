

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="August Rosenberg">
  <meta name="keywords" content="">
  
    <meta name="description" content="[TOC] QT认识QT  添加窗口  在项目名的位置添加新的文件  在mainwindow.cpp里面的构造函数在新建一个自己的窗口类名  通过new指定父对象经行选择是内嵌的窗口还是在外的  调用show方法才能显示窗口 12345678910111213141516171819MainWindow::MainWindow(QWidget *parent) :    QMainWindow(p">
<meta property="og:type" content="article">
<meta property="og:title" content="QT">
<meta property="og:url" content="https://tsy244.github.io/2023/06/26/QT/QT/index.html">
<meta property="og:site_name" content="chg">
<meta property="og:description" content="[TOC] QT认识QT  添加窗口  在项目名的位置添加新的文件  在mainwindow.cpp里面的构造函数在新建一个自己的窗口类名  通过new指定父对象经行选择是内嵌的窗口还是在外的  调用show方法才能显示窗口 12345678910111213141516171819MainWindow::MainWindow(QWidget *parent) :    QMainWindow(p">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://qt-1317182407.cos.ap-nanjing.myqcloud.com/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230627140342469.png">
<meta property="og:image" content="https://qt-1317182407.cos.ap-nanjing.myqcloud.com/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230628082141502.png">
<meta property="og:image" content="https://qt-1317182407.cos.ap-nanjing.myqcloud.com/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230628125338281.png">
<meta property="og:image" content="https://qt-1317182407.cos.ap-nanjing.myqcloud.com/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230629175549828.png">
<meta property="og:image" content="https://qt-1317182407.cos.ap-nanjing.myqcloud.com/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230629175753092.png">
<meta property="og:image" content="https://qt-1317182407.cos.ap-nanjing.myqcloud.com/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230629214952983.png">
<meta property="og:image" content="https://compilation-1317182407.cos.ap-nanjing.myqcloud.com/win32%E6%B1%87%E7%BC%96/image-20230723222647656.png">
<meta property="og:image" content="https://compilation-1317182407.cos.ap-nanjing.myqcloud.com/win32%E6%B1%87%E7%BC%96/image-20230723224446185.png">
<meta property="og:image" content="c:\Users\12414\Desktop\hexo\source_posts\QT\QT.assets\image-20230723224534289.png">
<meta property="og:image" content="https://allinit-1317182407.cos.ap-nanjing.myqcloud.com/qt/qt1/image-20230723235424678.png">
<meta property="og:image" content="https://allinit-1317182407.cos.ap-nanjing.myqcloud.com/qt/qt1/image-20230723235538742.png">
<meta property="og:image" content="https://allinit-1317182407.cos.ap-nanjing.myqcloud.com/qt/qt1/image-20230723235707087.png">
<meta property="og:image" content="https://allinit-1317182407.cos.ap-nanjing.myqcloud.com/qt/qt1/image-20230723235900989.png">
<meta property="og:image" content="https://allinit-1317182407.cos.ap-nanjing.myqcloud.com/qt/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230724000157379.png">
<meta property="og:image" content="https://allinit-1317182407.cos.ap-nanjing.myqcloud.com/qt/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230724000353154.png">
<meta property="og:image" content="https://allinit-1317182407.cos.ap-nanjing.myqcloud.com/qt/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230729140256470.png">
<meta property="og:image" content="https://allinit-1317182407.cos.ap-nanjing.myqcloud.com/qt/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230730083655196.png">
<meta property="og:image" content="https://allinit-1317182407.cos.ap-nanjing.myqcloud.com/qt/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230730161837845.png">
<meta property="og:image" content="https://subingwen.cn/qt/qt-base-window/image-b255c1da57dc41f780f16f3e82f75f7c.png">
<meta property="og:image" content="https://allinit-1317182407.cos.ap-nanjing.myqcloud.com/qt/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230730162004616.png">
<meta property="article:published_time" content="2023-06-26T15:57:01.000Z">
<meta property="article:modified_time" content="2023-07-30T08:23:22.981Z">
<meta property="article:author" content="August Rosenberg">
<meta property="article:tag" content="QT">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://qt-1317182407.cos.ap-nanjing.myqcloud.com/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230627140342469.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>QT - chg</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"tsy244.github.io","root":"/","version":"1.9.4","typing":{"enable":true,"typeSpeed":90,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":"G-BL1W5LRRDJ","gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>chg&#39;s blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>Home</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>Archives</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>Categories</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>Tags</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>About</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="QT"></span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        August Rosenberg
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-06-26 23:57" pubdate>
          June 26, 2023 pm
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          17k words
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          145 mins
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">QT</h1>
            
            
              <div class="markdown-body">
                
                <p>[TOC]</p>
<h1 id="QT"><a href="#QT" class="headerlink" title="QT"></a>QT</h1><h2 id="认识QT"><a href="#认识QT" class="headerlink" title="认识QT"></a>认识QT</h2><p><img src="https://qt-1317182407.cos.ap-nanjing.myqcloud.com/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230627140342469.png" srcset="/img/loading.gif" lazyload></p>
<ol>
<li><p>添加窗口</p>
<ol>
<li><p>在项目名的位置添加新的文件</p>
</li>
<li><p>在<code>mainwindow.cpp</code>里面的构造函数在新建一个自己的窗口类名</p>
</li>
<li><p>通过<code>new</code>指定父对象经行选择是内嵌的窗口还是在外的</p>
</li>
<li><p>调用<code>show</code>方法才能显示窗口</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c++">MainWindow::<span class="hljs-built_in">MainWindow</span>(QWidget *parent) :<br>    <span class="hljs-built_in">QMainWindow</span>(parent),<br>    <span class="hljs-built_in">ui</span>(<span class="hljs-keyword">new</span> Ui::MainWindow)<br>&#123;<br>    ui-&gt;<span class="hljs-built_in">setupUi</span>(<span class="hljs-keyword">this</span>);<br><span class="hljs-meta">#<span class="hljs-keyword">if</span> 0</span><br>    FormTest* test=<span class="hljs-keyword">new</span> FormTest;<br>    test-&gt;<span class="hljs-built_in">show</span>();<br><span class="hljs-meta">#<span class="hljs-keyword">else</span></span><br>    FormTest* test2=<span class="hljs-keyword">new</span> <span class="hljs-built_in">FormTest</span>(<span class="hljs-keyword">this</span>);<br>    test2-&gt;<span class="hljs-built_in">show</span>();<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br>&#125;<br>      <br>MainWindow::~<span class="hljs-built_in">MainWindow</span>()<br>&#123;<br>    <span class="hljs-keyword">delete</span> ui;<br>&#125;<br>      <br></code></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p><code>QDialog</code>介绍</p>
<ul>
<li>因为该窗口不是嵌入的，所以只有自己调用自己才能显示</li>
<li>模态显示和非模态显示<ul>
<li>非模态显示不能进行窗口切换，程序会堵塞，只有关闭窗口才会向下进行</li>
</ul>
</li>
</ul>
</li>
<li><p>Qmainwindow</p>
<ul>
<li>具有工具栏和状态栏</li>
</ul>
</li>
<li><p>QT的坐标系</p>
<p><img src="https://qt-1317182407.cos.ap-nanjing.myqcloud.com/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230628082141502.png" srcset="/img/loading.gif" lazyload></p>
</li>
<li><p>创建按钮，并移动和管理大小</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c++">    <span class="hljs-comment">//创建按钮</span><br>QPushButton* butA=<span class="hljs-keyword">new</span> <span class="hljs-built_in">QPushButton</span>(<span class="hljs-keyword">this</span>);<br>butA-&gt;<span class="hljs-built_in">move</span>(<span class="hljs-number">10</span>,<span class="hljs-number">10</span>);<span class="hljs-comment">//相对于父类坐标系的位置</span><br>butA-&gt;<span class="hljs-built_in">setFixedSize</span>(<span class="hljs-number">100</span>,<span class="hljs-number">100</span>);<span class="hljs-comment">//控制按钮的大小</span><br>   <br>QPushButton* butB=<span class="hljs-keyword">new</span> <span class="hljs-built_in">QPushButton</span>(butA);<br>butB-&gt;<span class="hljs-built_in">move</span>(<span class="hljs-number">10</span>,<span class="hljs-number">10</span>);<br>butB-&gt;<span class="hljs-built_in">setFixedSize</span>(<span class="hljs-number">50</span>,<span class="hljs-number">50</span>);<br>   	<br></code></pre></td></tr></table></figure>
</li>
<li><p>QT的内存机制</p>
<ul>
<li>​	会回收<code>QObjetc</code>及其子类的内存</li>
</ul>
<p><img src="https://qt-1317182407.cos.ap-nanjing.myqcloud.com/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230628125338281.png" srcset="/img/loading.gif" lazyload></p>
</li>
</ol>
<h2 id="基本类型"><a href="#基本类型" class="headerlink" title="基本类型"></a>基本类型</h2><ol>
<li>封装了c++的基本类型</li>
<li>建议使用c++原本的类型</li>
</ol>
<h3 id="字符串类型"><a href="#字符串类型" class="headerlink" title="字符串类型"></a>字符串类型</h3><p><img src="https://qt-1317182407.cos.ap-nanjing.myqcloud.com/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230629175549828.png" srcset="/img/loading.gif" lazyload alt="image-20230629175549828"></p>
<ul>
<li><p>构造函数</p>
<p><img src="https://qt-1317182407.cos.ap-nanjing.myqcloud.com/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230629175753092.png" srcset="/img/loading.gif" lazyload></p>
</li>
<li><p>添加到尾部</p>
<ul>
<li><code>append</code></li>
<li><code>push_back</code></li>
</ul>
</li>
<li><p>转换关系</p>
<p><img src="https://qt-1317182407.cos.ap-nanjing.myqcloud.com/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230629214952983.png" srcset="/img/loading.gif" lazyload alt="image-20230629214952983"></p>
</li>
<li><p><code>Qstring</code>的格式化</p>
  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c++">QString qString=<span class="hljs-built_in">QString</span>(<span class="hljs-string">&quot;this is a test for arg: my girlfriend is %1, and my wife is %2&quot;</span>).<span class="hljs-built_in">arg</span>(<span class="hljs-string">&quot;zjy&quot;</span>).<span class="hljs-built_in">arg</span>(<span class="hljs-string">&quot;zjy2&quot;</span>);<br>    <br></code></pre></td></tr></table></figure>
</li>
<li><p><code>QString</code>和<code>QArray</code></p>
</li>
</ul>
<h3 id="Qvariant"><a href="#Qvariant" class="headerlink" title="Qvariant"></a>Qvariant</h3><ol>
<li>创建对象的方法<ul>
<li>使用带参构造</li>
<li>创建空对象，然会调用<code>setvalue</code>方法</li>
<li>使用静态函数</li>
</ul>
</li>
<li>使用方法<ul>
<li>调用<code>type()</code>方法  -&gt;  <code>to...()</code></li>
</ul>
</li>
</ol>
<h3 id="struct"><a href="#struct" class="headerlink" title="struct"></a>struct</h3><ul>
<li><p>创建不能像普通的c++那样，必须使用宏声明一下</p>
<p>宏：<code>Q_DECLARE_METATYPE(MyTest)</code></p>
<figure class="highlight qt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs qt">struct <span class="hljs-title">myTest</span>&#123;<br>    <span class="hljs-built_in">int</span> testInt;<br>    <span class="hljs-built_in">double</span> testDouble;<br>&#125;;<br>Q_DECLARE_METATYPE(MyTest)<br></code></pre></td></tr></table></figure></li>
</ul>
<h3 id="QPoint"><a href="#QPoint" class="headerlink" title="QPoint"></a>QPoint</h3><ol>
<li><p>构造函数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// 构造函数</span><br><span class="hljs-comment">// 构造一个坐标原点, 即(0, 0)</span><br>QPoint::<span class="hljs-built_in">QPoint</span>();<br><span class="hljs-comment">// 参数为 x轴坐标, y轴坐标</span><br>QPoint::<span class="hljs-built_in">QPoint</span>(<span class="hljs-type">int</span> xpos, <span class="hljs-type">int</span> ypos);<br></code></pre></td></tr></table></figure>
</li>
<li><p>重新设置坐标点</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//设置x,y的点    </span><br>qPonit.<span class="hljs-built_in">setX</span>(x);<br>   qPoint.<span class="hljs-built_in">setY</span>(y);<br>   <br></code></pre></td></tr></table></figure>
</li>
<li><p>部分代码</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs c++">    <span class="hljs-comment">//给QVariant使用自定义的类型</span><br>    myTest test1;<br>    test1.testInt=<span class="hljs-number">520</span>;<br>    test1.testDouble=<span class="hljs-number">13.14</span>;<br>   <br>   <br><span class="hljs-meta">#<span class="hljs-keyword">if</span> 1</span><br>    QVariant v1;<br>    v1.<span class="hljs-built_in">setValue</span>(test1);<br><span class="hljs-meta">#<span class="hljs-keyword">else</span></span><br>    QVariant v1=QVariant::<span class="hljs-built_in">fromValue</span>(test1);<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br>    <span class="hljs-comment">//调用QVariant</span><br>    <span class="hljs-keyword">if</span>(v1.<span class="hljs-built_in">canConvert</span>&lt;myTest&gt;())&#123;<br>        <span class="hljs-keyword">auto</span> tem=v1.<span class="hljs-built_in">value</span>&lt;myTest&gt;();<br>        <span class="hljs-built_in">qDebug</span>()&lt;&lt;tem.testInt&lt;&lt;<span class="hljs-string">&quot;  &quot;</span>&lt;&lt;tem.testDouble;<br>    &#125;<br>   <br>    <span class="hljs-comment">//学习使用QPoint</span><br>    QPoint qPoint;<span class="hljs-comment">//坐标在0，0</span><br>    <span class="hljs-type">int</span> x=&#123;<span class="hljs-number">6</span>&#125;,y=&#123;<span class="hljs-number">5</span>&#125;;<br>    <span class="hljs-function">QPoint <span class="hljs-title">qPoint2</span><span class="hljs-params">(x,y)</span></span>;<span class="hljs-comment">//坐标在x,y</span><br>   <br>    <span class="hljs-comment">//重新设置x,y</span><br>    qPoint.<span class="hljs-built_in">setX</span>(x);<br>    qPoint.<span class="hljs-built_in">setY</span>(y);<br>   <br>    <span class="hljs-comment">//得到x,y的坐标</span><br>    x=qPoint.<span class="hljs-built_in">x</span>();<span class="hljs-comment">//得到值的拷贝</span><br>    y=qPoint.<span class="hljs-built_in">y</span>();<br>    <span class="hljs-keyword">auto</span> p_x=qPoint.<span class="hljs-built_in">rx</span>();<span class="hljs-comment">//得到引用</span><br>    <span class="hljs-keyword">auto</span> p_y=qPoint.<span class="hljs-built_in">ry</span>();<br>   <br>   <br>    <span class="hljs-built_in">qDebug</span>()&lt;&lt;p_x&lt;&lt;<span class="hljs-string">&quot;  &quot;</span>&lt;&lt;p_y&lt;&lt;<span class="hljs-string">&quot;  &quot;</span>&lt;&lt;x&lt;&lt;<span class="hljs-string">&quot;  &quot;</span>&lt;&lt;y&lt;&lt;<span class="hljs-string">&quot;  &quot;</span>;<br></code></pre></td></tr></table></figure></li>
</ol>
<h3 id="QLine"><a href="#QLine" class="headerlink" title="QLine"></a>QLine</h3><ol>
<li><p>直线类</p>
</li>
<li><p>构造函数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// 构造函数</span><br><span class="hljs-comment">// 构造一个空对象</span><br>QLine::<span class="hljs-built_in">QLine</span>();<br><span class="hljs-comment">// 构造一条直线, 通过两个坐标点</span><br>QLine::<span class="hljs-built_in">QLine</span>(<span class="hljs-type">const</span> QPoint &amp;p1, <span class="hljs-type">const</span> QPoint &amp;p2);<br><span class="hljs-comment">// 从点 (x1, y1) 到 (x2, y2)</span><br>QLine::<span class="hljs-built_in">QLine</span>(<span class="hljs-type">int</span> x1, <span class="hljs-type">int</span> y1, <span class="hljs-type">int</span> x2, <span class="hljs-type">int</span> y2);<br><br></code></pre></td></tr></table></figure>
</li>
<li><p>得到坐标或者点</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c++">   <br><span class="hljs-comment">//获得点的坐标</span><br><span class="hljs-keyword">auto</span> x1_forGet=qLine2.<span class="hljs-built_in">x1</span>();<span class="hljs-comment">//返回x1的坐标点</span><br><span class="hljs-keyword">auto</span> y1_forGet=qLine2.<span class="hljs-built_in">y1</span>();<span class="hljs-comment">//返回x2的坐标点</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>平移直线</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c++">     <br><span class="hljs-comment">//获得点的坐标</span><br><span class="hljs-keyword">auto</span> x1_forGet=qLine2.<span class="hljs-built_in">x1</span>();<span class="hljs-comment">//返回x1的坐标点</span><br><span class="hljs-keyword">auto</span> y1_forGet=qLine2.<span class="hljs-built_in">y1</span>();<span class="hljs-comment">//返回x2的坐标点</span><br></code></pre></td></tr></table></figure></li>
</ol>
<h3 id="QSize"><a href="#QSize" class="headerlink" title="QSize"></a>QSize</h3><ol>
<li>有两个成员变量，具有长度和宽度</li>
</ol>
<h3 id="QRect"><a href="#QRect" class="headerlink" title="QRect"></a>QRect</h3><ol>
<li>用于描述一个矩形</li>
</ol>
<h3 id="Qdate"><a href="#Qdate" class="headerlink" title="Qdate"></a>Qdate</h3><ol>
<li>QDate 类可以封装日期信息也可以通过这个类得到日期相关的信息，包括: 年 , 月 , 日。</li>
</ol>
<h3 id="QTime"><a href="#QTime" class="headerlink" title="QTime"></a>QTime</h3><ol>
<li>QTime 类可以封装时间信息也可以通过这个类得到时间相关的信息，包括: 时 , 分 , 秒 , 毫秒。</li>
</ol>
<h3 id="QDtateTime"><a href="#QDtateTime" class="headerlink" title="QDtateTime"></a>QDtateTime</h3><ol>
<li>QDateTime 类可以封装日期和时间信息也可以通过这个类得到日期和时间相关的信息，包括: 年 , 月 , 日 , 时 , 分 , 秒 , 毫秒。其实这个类就是 QDate 和 QTime 这两个类的结合体。</li>
</ol>
<h2 id="信号和信号槽"><a href="#信号和信号槽" class="headerlink" title="信号和信号槽"></a>信号和信号槽</h2><ol>
<li><p>信号和信号槽</p>
<blockquote>
<p>当某个事件发生之后，比如，按钮检测到自己被点击了一下，它就会发出一个信号（signal）。这种发出是没有目的的，类似广播。如果有对象对这个信号感兴趣，它就会使用连接（connect）函数，意思是，将想要处理的信号和自己的一个函数（称为槽（slot））绑定来处理这个信号。也就是说，当信号发出时，被连接的槽函数会自动被回调。这就类似观察者模式：当发生了感兴趣的事件，某一个操作就会被自动触发。	</p>
</blockquote>
</li>
<li><p>简单示范，绑定事件和信号</p>
<p>使用<code>connect()</code>绑定信号和信号槽</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//实现关闭窗口</span><br>    <span class="hljs-built_in">connect</span>(ui-&gt;closeBut,&amp;QPushButton::clicked,<span class="hljs-keyword">this</span>,MainWindow::close);<br></code></pre></td></tr></table></figure>
</li>
<li><p>信号的自定义</p>
<ul>
<li>自定义信号就是定义一个函数，但是这个函数是signals，权限的</li>
<li>自定义信号我们需要使用<code>Q_OBJECT</code>的宏然后就可以采用这个函数一调用这个信号。</li>
<li>而且该函数的返回值必须为空</li>
<li>信号是可以重载的</li>
</ul>
<blockquote>
<p>信号是类的成员函数<br>返回值必须是 void 类型<br>信号的名字可以根据实际情况进行指定<br>参数可以随意指定, 信号也支持重载<br>信号需要使用 signals 关键字进行声明, 使用方法类似于public等关键字<br>信号函数只需要声明, 不需要定义(没有函数体实现)<br>在程序中发射自定义信号: 发送信号的本质就是调用信号函数<br>习惯性在信号函数前加关键字: emit, 但是可以省略不写<br>emit只是显示的声明一下信号要被发射了, 没有特殊含义<br>底层 emit &#x3D;&#x3D; #define emit</p>
</blockquote>
</li>
<li><p>信号的使用</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c++">信号是类的成员函数<br>返回值必须是 <span class="hljs-type">void</span> 类型<br>信号的名字可以根据实际情况进行指定<br>参数可以随意指定, 信号也支持重载<br>信号需要使用 signals 关键字进行声明, 使用方法类似于<span class="hljs-keyword">public</span>等关键字<br>信号函数只需要声明, 不需要定义(没有函数体实现)<br>在程序中发射自定义信号: 发送信号的本质就是调用信号函数<br>习惯性在信号函数前加关键字: emit, 但是可以省略不写<br>emit只是显示的声明一下信号要被发射了, 没有特殊含义<br>底层 emit == <span class="hljs-meta">#<span class="hljs-keyword">define</span> emit</span><br>   <br></code></pre></td></tr></table></figure>
</li>
<li><p>槽函数的自定义</p>
<ul>
<li><p>使用关键词<code>slots</code>，可以省略，但是为了代码格式话，更好是使用这个关键词</p>
</li>
<li><p>返回值也必须是void</p>
</li>
<li><p>函数的参数和信号是的参数是一致的，但是如果对数据没有处理也可以不去接收</p>
</li>
<li><p>槽函数的类型是多样的，我们可以使用</p>
<p>伪函数，成员函数，匿名函数，全局函数</p>
<blockquote>
<p>返回值必须是 void 类型</p>
<p>槽也是函数, 因此也支持重载</p>
<p>槽函数需要指定多少个参数, 需要看连接的信号的参数个数</p>
<p>槽函数的参数是用来接收信号传递的数据的, 信号传递的数据就是信号的参数</p>
<p>举例:<br>信号函数: void testsig (int a, double b);<br>槽函数: void testslot (int a, double b);<br>总结:<br>槽函数的参数应该和对应的信号的参数个数，从左到右类型依次对应<br>信号的参数可以大于等于槽函数的参数个数 &#x3D;&#x3D; 信号传递的数据被忽略了<br>信号函数: void testsig (int a, double b);<br>槽函数: void testslot (int a);<br>Qt中槽函数的类型是多样的</p>
<p>Qt 中的槽函数可以是类的成员函数、全局函数、静态函数、Lambda表达式（匿名函数）</p>
<p>槽函数可以使用关键字进行声明: slots (Qt5中slots可以省略不写)</p>
<p>public slots:<br>private slots: –&gt; 这样的槽函数不能在类外部被调用<br>protected slots: –&gt; 这样的槽函数不能在类外部被调用</p>
</blockquote>
</li>
</ul>
</li>
<li><p>下面是使用实例</p>
<p>slot:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span><br>   <br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;QObject&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;QDebug&quot;</span></span><br>   <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Qtslot</span>  : <span class="hljs-keyword">public</span> QObject<br>&#123;<br>    Q_OBJECT<br>   <br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">//Qtslot(QObject *parent);</span><br>    <span class="hljs-comment">//~Qtslot();</span><br>   <br><span class="hljs-keyword">public</span> slots:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">test_slot</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-built_in">qDebug</span>() &lt;&lt; <span class="hljs-string">&quot;eat shit!&quot;</span>;<br>    &#125;<br>&#125;;<br>   <br></code></pre></td></tr></table></figure>

<p>signal:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c++">   <br><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span><br>   <br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;QObject&gt;</span></span><br>   <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Qtgirl</span>  : <span class="hljs-keyword">public</span> QObject<br>&#123;<br>    Q_OBJECT<br>   <br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">//Qtgirl(QObject *parent);</span><br>    <span class="hljs-comment">//~Qtgirl();</span><br>   <br>signals:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">test_signal</span><span class="hljs-params">()</span></span>;<br>&#125;;<br>   <br></code></pre></td></tr></table></figure>

<p>信号槽的调用</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;QtWidgetsApplication1.h&quot;</span></span><br>   <br>QtWidgetsApplication1::<span class="hljs-built_in">QtWidgetsApplication1</span>(QWidget *parent)<br>    : <span class="hljs-built_in">QMainWindow</span>(parent)<br>&#123;<br>    ui.<span class="hljs-built_in">setupUi</span>(<span class="hljs-keyword">this</span>);<br>   <br>    <span class="hljs-comment">//创建信号槽</span><br>    qtslot = <span class="hljs-keyword">new</span> Qtslot;<br>    qtgirl = <span class="hljs-keyword">new</span> Qtgirl;<br>   <br>    <span class="hljs-built_in">connect</span>(qtgirl, &amp;Qtgirl::test_signal, qtslot, &amp;Qtslot::test_slot);<span class="hljs-comment">//注意函数参数的使用</span><br>   <br>   <br>    <span class="hljs-comment">//绑定按钮</span><br>    <span class="hljs-built_in">connect</span>(ui.eat, &amp;QPushButton::clicked, <span class="hljs-keyword">this</span>, &amp;QtWidgetsApplication1::launchSignal);<span class="hljs-comment">//最后一个参数不能使用()</span><br>   <br>&#125;<br>   <br>QtWidgetsApplication1::~<span class="hljs-built_in">QtWidgetsApplication1</span>()<br>&#123;&#125;<br>   <br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QtWidgetsApplication1::launchSignal</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    emit qtgirl-&gt;<span class="hljs-built_in">test_signal</span>();<br>&#125;<br>   <br></code></pre></td></tr></table></figure>
</li>
<li><p>信号槽的扩展</p>
<ul>
<li>一个信号可以使用槽函数</li>
<li>一个槽函数也可以是相关多个信号</li>
<li>可以使用信号连接信号，就可以不用使用<code>emit</code></li>
</ul>
</li>
<li><p>连接方式（对函数进行了重载）</p>
<ul>
<li><p>QT4</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-built_in">connect</span>(qtgirl, <span class="hljs-built_in">SIGNAL</span>(<span class="hljs-built_in">test_signal</span>()), qtslot,<span class="hljs-built_in">SLOT</span>(<span class="hljs-built_in">test_slot</span>()));<span class="hljs-comment">//注意函数参数的使用</span><br>   <br>   <span class="hljs-built_in">connect</span>(qtgirl, <span class="hljs-built_in">SIGNAL</span>(<span class="hljs-built_in">test_signal</span>(QString)), qtslot,<span class="hljs-built_in">SLOT</span>(<span class="hljs-built_in">test_slot</span>(QString)));<span class="hljs-comment">//注意函数参数的使用</span><br>     <br>        <br></code></pre></td></tr></table></figure>


</li>
<li><p>QT5</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//QT5  重载过后</span><br>     <br><span class="hljs-built_in">void</span>(Qtgirl:: * girl1)() = &amp;Qtgirl::test_signal;<br><span class="hljs-built_in">void</span>(Qtgirl:: * girl2)(QString) = &amp;Qtgirl::test_signal;<br>     <br><span class="hljs-built_in">void</span>(Qtslot:: * solt1)() = &amp;Qtslot::test_slot;<br><span class="hljs-built_in">void</span>(Qtslot:: * solt2)(QString) = &amp;Qtslot::test_slot;<br><span class="hljs-built_in">connect</span>(qtgirl, girl1, qtslot, solt1);<span class="hljs-comment">//注意函数参数的使用</span><br><span class="hljs-built_in">connect</span>(qtgirl, girl2, qtslot, solt2);<span class="hljs-comment">//注意函数参数的使用</span><br></code></pre></td></tr></table></figure>

<p>也就是需要我们将参数绑定在函数指针上面</p>
<p>返回值是void的函数指针</p>
</li>
<li><p>此外还要注意信号的使用</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QtWidgetsApplication1::launchSignal</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    emit qtgirl-&gt;<span class="hljs-built_in">test_signal</span>();<br>    emit qtgirl-&gt;<span class="hljs-built_in">test_signal</span>(<span class="hljs-string">&quot;Hamburger&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><code>lambda</code>表达式</p>
<p><img src="https://compilation-1317182407.cos.ap-nanjing.myqcloud.com/win32%E6%B1%87%E7%BC%96/image-20230723222647656.png" srcset="/img/loading.gif" lazyload alt="image-20230723222647656"></p>
</li>
</ol>
<h2 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h2><h3 id="QTimer"><a href="#QTimer" class="headerlink" title="QTimer"></a>QTimer</h3><ol>
<li><p>构造函数</p>
<p>我们需要指定一个参数，让它挂在对象树上，可以进行内存回收</p>
<p><img src="https://compilation-1317182407.cos.ap-nanjing.myqcloud.com/win32%E6%B1%87%E7%BC%96/image-20230723224446185.png" srcset="/img/loading.gif" lazyload alt="image-20230723224446185"></p>
</li>
<li><p>调用最好需要指定时间的间隔周期</p>
<p><img src="C:\Users\12414\Desktop\hexo\source_posts\QT\QT.assets\image-20230723224534289.png" srcset="/img/loading.gif" lazyload alt="image-20230723224534289"></p>
<p>如果没有指定间隔周期，需要调用如下的操作</p>
<p><img src="https://allinit-1317182407.cos.ap-nanjing.myqcloud.com/qt/qt1/image-20230723235424678.png" srcset="/img/loading.gif" lazyload alt="image-20230723235424678"></p>
</li>
<li><p>调用的开始函数</p>
<p><img src="https://allinit-1317182407.cos.ap-nanjing.myqcloud.com/qt/qt1/image-20230723235538742.png" srcset="/img/loading.gif" lazyload alt="image-20230723235538742"></p>
</li>
<li><p>发送信号</p>
<p><img src="https://allinit-1317182407.cos.ap-nanjing.myqcloud.com/qt/qt1/image-20230723235707087.png" srcset="/img/loading.gif" lazyload alt="image-20230723235707087"></p>
<p>当timeout时就会发出信号，我们就需要槽函数接收信号</p>
</li>
<li><p>设置精度</p>
<p><img src="https://allinit-1317182407.cos.ap-nanjing.myqcloud.com/qt/qt1/image-20230723235900989.png" srcset="/img/loading.gif" lazyload alt="image-20230723235900989"></p>
</li>
<li><p>看定时器是否是存活的</p>
<p><img src="https://allinit-1317182407.cos.ap-nanjing.myqcloud.com/qt/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230724000157379.png" srcset="/img/loading.gif" lazyload alt="image-20230724000157379"></p>
</li>
<li><p>设置信号只发射一次</p>
<p><img src="https://allinit-1317182407.cos.ap-nanjing.myqcloud.com/qt/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230724000353154.png" srcset="/img/loading.gif" lazyload alt="image-20230724000353154"></p>
</li>
</ol>
<h4 id="简单的计时器的实现"><a href="#简单的计时器的实现" class="headerlink" title="简单的计时器的实现"></a>简单的计时器的实现</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs c++">QtWidgetsApplication1::<span class="hljs-built_in">QtWidgetsApplication1</span>(QWidget *parent)<br>    : <span class="hljs-built_in">QMainWindow</span>(parent)<br>&#123;<br>    ui.<span class="hljs-built_in">setupUi</span>(<span class="hljs-keyword">this</span>);<br><br>    QTimer* qTimer = <span class="hljs-keyword">new</span> <span class="hljs-built_in">QTimer</span>(<span class="hljs-keyword">this</span>);<br><br>    qTimer-&gt;<span class="hljs-built_in">setTimerType</span>(Qt::PreciseTimer); <br><br>    <span class="hljs-built_in">connect</span>(ui.point, &amp;QPushButton::clicked, <span class="hljs-keyword">this</span>, [=]() &#123;<br>        <span class="hljs-keyword">if</span> (qTimer-&gt;<span class="hljs-built_in">isActive</span>()) &#123;<br>            qTimer-&gt;<span class="hljs-built_in">stop</span>();<br>            ui.point-&gt;<span class="hljs-built_in">setText</span>(<span class="hljs-string">&quot;begin&quot;</span>);<br>        &#125;<br>        <span class="hljs-keyword">else</span> &#123;<br>            qTimer-&gt;<span class="hljs-built_in">start</span>(<span class="hljs-number">100</span>);<br>            ui.point-&gt;<span class="hljs-built_in">setText</span>(<span class="hljs-string">&quot;close&quot;</span>);<br>        &#125;<br>    &#125;);<br><br>    <span class="hljs-built_in">connect</span>(qTimer, &amp;QTimer::timeout, <span class="hljs-keyword">this</span>, [=]() &#123;<br>        QTime tm = QTime::<span class="hljs-built_in">currentTime</span>();<br>        QString curTime = tm.<span class="hljs-built_in">toString</span>(<span class="hljs-string">&quot;hh:mm:ss.zzz&quot;</span>);<br>        ui.curTime-&gt;<span class="hljs-built_in">setText</span>(curTime);<br><br><br>    &#125;);<br>    <br><br><br>    <span class="hljs-built_in">connect</span>(ui.oncePoint, &amp;QPushButton::clicked, <span class="hljs-keyword">this</span>, [=]() &#123;<br>        QTimer::<span class="hljs-built_in">singleShot</span>(<span class="hljs-number">2000</span>, <span class="hljs-keyword">this</span>, [=]() &#123;<br>            QTime tm = QTime::<span class="hljs-built_in">currentTime</span>();<br>            QString curTime = tm.<span class="hljs-built_in">toString</span>(<span class="hljs-string">&quot;hh:mm:ss.zzz&quot;</span>);<br>            ui.onceTime-&gt;<span class="hljs-built_in">setText</span>(curTime);<br>            &#125;);<br>        &#125;);<span class="hljs-comment">//实现的是一次获取时间</span><br><br>&#125;<br></code></pre></td></tr></table></figure>





<h2 id="窗口类"><a href="#窗口类" class="headerlink" title="窗口类"></a>窗口类</h2><h3 id="QWidGet"><a href="#QWidGet" class="headerlink" title="QWidGet"></a>QWidGet</h3><ol>
<li><p>QWidGet的基本设置</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//设置图标</span><br><span class="hljs-built_in">setWindowIcon</span>(<span class="hljs-built_in">QIcon</span>(<span class="hljs-string">&quot;C:\\Users\\12414\\OneDrive - cuit.edu.cn\\图片\\本机照片\\下载 (2).png&quot;</span>));<br>   <br><span class="hljs-comment">//设置标题</span><br><span class="hljs-built_in">setWindowTitle</span>(<span class="hljs-string">&quot;陈宏刚&quot;</span>);<br>   <br>   <br><span class="hljs-comment">//移动</span><br><span class="hljs-function">QPoint <span class="hljs-title">movePoint</span><span class="hljs-params">(<span class="hljs-number">800</span>, <span class="hljs-number">800</span>)</span></span>;<br><span class="hljs-built_in">move</span>(movePoint);<br>   <br>   <br><span class="hljs-comment">//将按钮附上text</span><br>ui.changeSize-&gt;<span class="hljs-built_in">setText</span>(<span class="hljs-string">&quot;改变大小&quot;</span>);<br>ui.getInfo-&gt;<span class="hljs-built_in">setText</span>(<span class="hljs-string">&quot;得到信息&quot;</span>);<br>ui.move-&gt;<span class="hljs-built_in">setText</span>(<span class="hljs-string">&quot;改变位置&quot;</span>);<br>ui.modefyBth-&gt;<span class="hljs-built_in">setText</span>(<span class="hljs-string">&quot;改变窗口&quot;</span>);<br>   <br>   <br><span class="hljs-comment">//当标题和图标发生变化的时候</span><br><span class="hljs-built_in">connect</span>(<span class="hljs-keyword">this</span>, &amp;QWidget::windowIconChanged, <span class="hljs-keyword">this</span>, [=]() &#123;<br>    <span class="hljs-built_in">qDebug</span>() &lt;&lt; <span class="hljs-string">&quot;你的图标已经改变&quot;</span>;<br>    &#125;);<br>   <br><span class="hljs-built_in">connect</span>(<span class="hljs-keyword">this</span>, &amp;QWidget::windowTitleChanged, <span class="hljs-keyword">this</span>, [=]() &#123;<br>    <span class="hljs-built_in">qDebug</span>() &lt;&lt; <span class="hljs-string">&quot;你的标题已经改变&quot;</span>;<br>    &#125;);<br>   <br></code></pre></td></tr></table></figure>
</li>
<li><p>添加右键菜单 </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c++">   <br><span class="hljs-comment">//添加右键菜单</span><br><span class="hljs-built_in">setContextMenuPolicy</span>(Qt::CustomContextMenu);<br><span class="hljs-built_in">connect</span>(<span class="hljs-keyword">this</span>,&amp;QWidget::customContextMenuRequested, <span class="hljs-keyword">this</span>, [=](<span class="hljs-type">const</span> QPoint&amp;pos) &#123;<br>    QMenu <span class="hljs-built_in">menu</span>(<span class="hljs-literal">nullptr</span>);<span class="hljs-comment">//右键菜单</span><br>    menu.<span class="hljs-built_in">addAction</span>(<span class="hljs-string">&quot;chg&quot;</span>);<span class="hljs-comment">//添加选项</span><br>    menu.<span class="hljs-built_in">addAction</span>(<span class="hljs-string">&quot;zjy&quot;</span>);<br>    menu.<span class="hljs-built_in">addAction</span>(<span class="hljs-string">&quot;xxp&quot;</span>);<br>    menu.<span class="hljs-built_in">exec</span>(QCursor::<span class="hljs-built_in">pos</span>());<span class="hljs-comment">//获取右键的位置，exec相当于生成函数，在此处生成 	</span><br>    &#125;);<br></code></pre></td></tr></table></figure>
</li>
<li><p>模块对话框，就是有当前的焦点</p>
</li>
</ol>
<h3 id="QDialog"><a href="#QDialog" class="headerlink" title="QDialog"></a>QDialog</h3><ol>
<li><p>使用模块对话框</p>
<ul>
<li>首先得有一个dialog的类</li>
<li>然后再这个类里面做一些操作</li>
<li>然后主窗口调用这个类</li>
</ul>
<p>下面是主窗口的代码，主要是用于接受信号，创建类</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">qtTest::on_modalDialog_clicked</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    MyDialog myDialog;<br>   <br>   <br>    <span class="hljs-comment">//信号处理放在前面，因为不能再销毁，也就是exec之后检测</span><br>    <span class="hljs-comment">//检测是什么信号</span><br>    <span class="hljs-built_in">connect</span>(&amp;myDialog, &amp;QDialog::finished, <span class="hljs-keyword">this</span>, [=](<span class="hljs-type">int</span> ret) &#123;<br>        <span class="hljs-built_in">qDebug</span>() &lt;&lt; <span class="hljs-string">&quot;this is finished,ret is: &quot;</span> &lt;&lt; ret;<br>        &#125;);<br>   <br>   <br>    <span class="hljs-comment">//accepted,rejected没有返回值</span><br>    <span class="hljs-built_in">connect</span>(&amp;myDialog, &amp;QDialog::accepted, <span class="hljs-keyword">this</span>, [=]() &#123;<br>        <span class="hljs-built_in">qDebug</span>() &lt;&lt; <span class="hljs-string">&quot;accepted &quot;</span>;<br>        &#125;);<br>   <br>    <span class="hljs-built_in">connect</span>(&amp;myDialog, &amp;QDialog::rejected, <span class="hljs-keyword">this</span>, [=]() &#123;<br>        <span class="hljs-built_in">qDebug</span>() &lt;&lt; <span class="hljs-string">&quot;this is rejected&quot;</span>;<br>        &#125;);<br>   <br>    <span class="hljs-type">int</span> ret = myDialog.<span class="hljs-built_in">exec</span>();<span class="hljs-comment">//激活窗口</span><br>   <br>    <span class="hljs-keyword">if</span> (ret == QDialog::Accepted) &#123;<span class="hljs-comment">//通过接受信号，判断是什么退出</span><br>        <span class="hljs-built_in">qDebug</span>() &lt;&lt; <span class="hljs-string">&quot;accepted&quot;</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ret == QDialog::Rejected) &#123;<br>        <span class="hljs-built_in">qDebug</span>() &lt;&lt; <span class="hljs-string">&quot;rejected&quot;</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">qDebug</span>() &lt;&lt; <span class="hljs-string">&quot;done&quot;</span>;<br>    &#125;<br>&#125;  <br></code></pre></td></tr></table></figure>

<p>下面是dialog的代码</p>
<p>三个按钮代表三个不同的退出方式</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">MyDialog::on_acceptedBtn_clicked</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">accept</span>();<br>&#125;<br>   <br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">MyDialog::on_rejectedBtn_clicked</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">reject</span>();<br>&#125;<br>   <br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">MyDialog::on_doneBtn_clicked</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">done</span>(<span class="hljs-number">10</span>);<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
<h4 id="QMessageBox（消息提示框）"><a href="#QMessageBox（消息提示框）" class="headerlink" title="QMessageBox（消息提示框）"></a>QMessageBox（消息提示框）</h4><p>给用户做交互用的</p>
<ol>
<li><p>static public function</p>
<p><img src="https://allinit-1317182407.cos.ap-nanjing.myqcloud.com/qt/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230729140256470.png" srcset="/img/loading.gif" lazyload alt="image-20230729140256470"></p>
<ul>
<li><p><code>about</code>()</p>
<p>指定一个父窗口，指定一个标题，指定信息</p>
</li>
<li><p>aboutQt()</p>
<p>显示现在qt的信息</p>
</li>
</ul>
</li>
</ol>
<h4 id="QFileDialog-用于打开文件列表"><a href="#QFileDialog-用于打开文件列表" class="headerlink" title="QFileDialog(用于打开文件列表)"></a>QFileDialog(用于打开文件列表)</h4><p><img src="https://allinit-1317182407.cos.ap-nanjing.myqcloud.com/qt/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230730083655196.png" srcset="/img/loading.gif" lazyload alt="image-20230730083655196"></p>
<ol>
<li><p>常用的静态函数的用法</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">define</span> SAVAFILE</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">qtTest::on_modefyBth_2_clicked</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> OPENDIR</span><br>    QString dir = QFileDialog::<span class="hljs-built_in">getExistingDirectory</span>(<span class="hljs-keyword">this</span>, <span class="hljs-string">&quot;目录&quot;</span>,<br>        <span class="hljs-string">&quot;D:\\code\\vs\\vs2019_qt\\qtTest\\qtTest&quot;</span>);<br>    <span class="hljs-comment">//qDebug() &lt;&lt; &quot;your choose is:&quot; &lt;&lt; dir;</span><br>    QMessageBox::<span class="hljs-built_in">information</span>(<span class="hljs-keyword">this</span>, <span class="hljs-string">&quot;open file&quot;</span>,dir);<br>   <br>   <br><span class="hljs-meta">#<span class="hljs-keyword">endif</span> <span class="hljs-comment">// OPENDIR</span></span><br>   <br>   <br><span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> OPENFILE</span><br>    QString dir = <span class="hljs-string">&quot;Text files (*txt)&quot;</span>;<br>    QString fileName = QFileDialog::<span class="hljs-built_in">getOpenFileName</span>(<span class="hljs-keyword">this</span>, <span class="hljs-string">&quot;openfile&quot;</span>,<br>        <span class="hljs-string">&quot;C:\\Users\\12414\\Desktop\\data.txt&quot;</span>,<br>        <span class="hljs-built_in">tr</span>(<span class="hljs-string">&quot;Images (*.png,*jpg);;Text files (*txt)&quot;</span>),&amp;dir);<br>    QMessageBox::<span class="hljs-built_in">information</span>(<span class="hljs-keyword">this</span>, <span class="hljs-string">&quot;open file&quot;</span>, <span class="hljs-string">&quot;你打开的文件是：&quot;</span> + fileName);<br>   <br><span class="hljs-meta">#<span class="hljs-keyword">endif</span> <span class="hljs-comment">// OPENFILE</span></span><br>   <br>   <br><span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> OPENFILES</span><br>    QString dir = <span class="hljs-string">&quot;Text files (*txt)&quot;</span>;<br>    QStringList fileNames = QFileDialog::<span class="hljs-built_in">getOpenFileNames</span>(<span class="hljs-keyword">this</span>, <span class="hljs-string">&quot;打开文件&quot;</span>,<br>        <span class="hljs-string">&quot;C:\\Users\\12414\\Desktop\\data.txt&quot;</span>,<br>        <span class="hljs-built_in">tr</span>(<span class="hljs-string">&quot;Images (*.png,*jpg);;Text files (*txt)&quot;</span>),&amp;dir);<br>    QString name;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; item : fileNames) &#123;<br>        name += item+<span class="hljs-string">&quot;   &quot;</span>;<br>    &#125;<br>    QMessageBox::<span class="hljs-built_in">information</span>(<span class="hljs-keyword">this</span>, <span class="hljs-string">&quot;你打开的文件&quot;</span>, name);<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span> <span class="hljs-comment">// OPENFILES</span></span><br>   <br><span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> SAVAFILE</span><br>    QString dir = <span class="hljs-string">&quot;Text files (*txt)&quot;</span>;<br>    QString fileName = QFileDialog::<span class="hljs-built_in">getSaveFileName</span>(<span class="hljs-keyword">this</span>, <span class="hljs-string">&quot;保存文件&quot;</span>,<br>        <span class="hljs-string">&quot;C:\\Users\\12414\\Desktop\\data.txt&quot;</span>,<br>        <span class="hljs-built_in">tr</span>(<span class="hljs-string">&quot;Images (*.png,*jpg);;Text files (*txt)&quot;</span>), &amp;dir);<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span> <span class="hljs-comment">// SAVAFILE</span></span><br>   <br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
<h4 id="QFontDialog（字体对话框类）"><a href="#QFontDialog（字体对话框类）" class="headerlink" title="QFontDialog（字体对话框类）"></a>QFontDialog（字体对话框类）</h4><h5 id="QFont-字体类"><a href="#QFont-字体类" class="headerlink" title="QFont(字体类)"></a>QFont(字体类)</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// 构造函数</span><br>  QFont::<span class="hljs-built_in">QFont</span>();<br>  <span class="hljs-comment">/*</span><br><span class="hljs-comment">  参数:</span><br><span class="hljs-comment">    - family: 本地字库中的字体名, 通过 office 等文件软件可以查看</span><br><span class="hljs-comment">    - pointSize: 字体的字号</span><br><span class="hljs-comment">    - weight: 字体的粗细, 有效范围为 0 ~ 99</span><br><span class="hljs-comment">    - italic: 字体是否倾斜显示, 默认不倾斜</span><br><span class="hljs-comment">  */</span><br>  QFont::<span class="hljs-built_in">QFont</span>(<span class="hljs-type">const</span> QString &amp;family, <span class="hljs-type">int</span> pointSize = <span class="hljs-number">-1</span>, <span class="hljs-type">int</span> weight = <span class="hljs-number">-1</span>, <span class="hljs-type">bool</span> italic = <span class="hljs-literal">false</span>);<br>  <br>  <span class="hljs-comment">// 设置字体</span><br>  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QFont::setFamily</span><span class="hljs-params">(<span class="hljs-type">const</span> QString &amp;family)</span></span>;<br>  <span class="hljs-comment">// 根据字号设置字体大小</span><br>  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QFont::setPointSize</span><span class="hljs-params">(<span class="hljs-type">int</span> pointSize)</span></span>;<br>  <span class="hljs-comment">// 根据像素设置字体大小</span><br>  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QFont::setPixelSize</span><span class="hljs-params">(<span class="hljs-type">int</span> pixelSize)</span></span>;<br>  <span class="hljs-comment">// 设置字体的粗细程度, 有效范围: 0 ~ 99</span><br>  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QFont::setWeight</span><span class="hljs-params">(<span class="hljs-type">int</span> weight)</span></span>;<br>  <span class="hljs-comment">// 设置字体是否加粗显示</span><br>  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QFont::setBold</span><span class="hljs-params">(<span class="hljs-type">bool</span> enable)</span></span>;<br>  <span class="hljs-comment">// 设置字体是否要倾斜显示</span><br>  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QFont::setItalic</span><span class="hljs-params">(<span class="hljs-type">bool</span> enable)</span></span>;<br>  <br>  <span class="hljs-comment">// 获取字体相关属性(一般规律: 去掉设置函数的 set 就是获取相关属性对应的函数名)</span><br>  <span class="hljs-function">QString <span class="hljs-title">QFont::family</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>  <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">QFont::italic</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>  <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">QFont::pixelSize</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>  <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">QFont::pointSize</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>  <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">QFont::bold</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>  <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">QFont::weight</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br><br></code></pre></td></tr></table></figure>

<ol>
<li><p>给一个窗口设置字体</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++">ui.changeFontLabel-&gt;<span class="hljs-built_in">setFont</span>(ft);<br></code></pre></td></tr></table></figure>
</li>
<li><p>使用QAppication给所有的窗口设置字体</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++">QApplication::<span class="hljs-built_in">setFont</span>(ft);<br></code></pre></td></tr></table></figure>
</li>
<li><p>下面是使用的方法</p>
<p>在一个槽函数里面调用</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">qtTest::on_chengeFont_clicked</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">bool</span> ok;<br><span class="hljs-meta">#<span class="hljs-keyword">if</span> 0</span><br>    QFont ft = QFontDialog::<span class="hljs-built_in">getFont</span>(&amp;ok, <span class="hljs-built_in">QFont</span>(<span class="hljs-string">&quot;微软雅黑&quot;</span>,<span class="hljs-number">12</span>, QFont::Bold),<br>        <span class="hljs-keyword">this</span>, <span class="hljs-string">&quot;选择字体&quot;</span>);<br>    <span class="hljs-built_in">qDebug</span>() &lt;&lt; <span class="hljs-string">&quot;ok value is &quot;</span> &lt;&lt; ok;<br><span class="hljs-meta">#<span class="hljs-keyword">else</span></span><br>    QFont ft = QFontDialog::<span class="hljs-built_in">getFont</span>(<span class="hljs-literal">NULL</span>);<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span> <span class="hljs-comment">// 1</span></span><br>   <br>    ui.changeFontLabel-&gt;<span class="hljs-built_in">setFont</span>(ft);<br>    QApplication::<span class="hljs-built_in">setFont</span>(ft);<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
<h4 id="QColorDialog"><a href="#QColorDialog" class="headerlink" title="QColorDialog"></a>QColorDialog</h4><h5 id="QColor颜色类"><a href="#QColor颜色类" class="headerlink" title="QColor颜色类"></a>QColor颜色类</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// 构造函数</span><br>QColor::<span class="hljs-built_in">QColor</span>(Qt::GlobalColor color);<br>QColor::<span class="hljs-built_in">QColor</span>(<span class="hljs-type">int</span> r, <span class="hljs-type">int</span> g, <span class="hljs-type">int</span> b, <span class="hljs-type">int</span> a = ...);<br>QColor::<span class="hljs-built_in">QColor</span>();<br><br><span class="hljs-comment">// 参数设置 red, green, blue, alpha, 取值范围都是 0-255</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QColor::setRed</span><span class="hljs-params">(<span class="hljs-type">int</span> red)</span></span>;		<span class="hljs-comment">// 红色</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QColor::setGreen</span><span class="hljs-params">(<span class="hljs-type">int</span> green)</span></span>;	<span class="hljs-comment">// 绿色</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QColor::setBlue</span><span class="hljs-params">(<span class="hljs-type">int</span> blue)</span></span>;	<span class="hljs-comment">// 蓝色</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QColor::setAlpha</span><span class="hljs-params">(<span class="hljs-type">int</span> alpha)</span></span>;	<span class="hljs-comment">// 透明度, 默认不透明(255)</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QColor::setRgb</span><span class="hljs-params">(<span class="hljs-type">int</span> r, <span class="hljs-type">int</span> g, <span class="hljs-type">int</span> b, <span class="hljs-type">int</span> a = <span class="hljs-number">255</span>)</span></span>;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">QColor::red</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">QColor::green</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">QColor::blue</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">QColor::alpha</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QColor::getRgb</span><span class="hljs-params">(<span class="hljs-type">int</span> *r, <span class="hljs-type">int</span> *g, <span class="hljs-type">int</span> *b, <span class="hljs-type">int</span> *a = <span class="hljs-literal">nullptr</span>)</span> <span class="hljs-type">const</span></span>;<br><br></code></pre></td></tr></table></figure>

<h4 id="QInputDialog"><a href="#QInputDialog" class="headerlink" title="QInputDialog"></a>QInputDialog</h4><ol>
<li><p>static public function</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// 得到一个可以输入浮点数的对话框窗口, 返回对话框窗口中输入的浮点数</span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">参数:</span><br><span class="hljs-comment">  - parent: 对话框窗口的父窗口</span><br><span class="hljs-comment">  - title: 对话框窗口显示的标题信息</span><br><span class="hljs-comment">  - label: 对话框窗口中显示的文本信息(用于描述对话框的功能)</span><br><span class="hljs-comment">  - value: 对话框窗口中显示的浮点值, 默认为 0</span><br><span class="hljs-comment">  - min: 对话框窗口支持显示的最小数值</span><br><span class="hljs-comment">  - max: 对话框窗口支持显示的最大数值</span><br><span class="hljs-comment">  - decimals: 浮点数的精度, 默认保留小数点以后1位</span><br><span class="hljs-comment">  - ok: 传出参数, 用于判断是否得到了有效数据, 一般不会使用该参数</span><br><span class="hljs-comment">  - flags: 对话框窗口的窗口属性, 使用默认值即可</span><br><span class="hljs-comment">*/</span><br>[<span class="hljs-type">static</span>] <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">QInputDialog::getDouble</span><span class="hljs-params">(</span></span><br><span class="hljs-params"><span class="hljs-function">            QWidget *parent, <span class="hljs-type">const</span> QString &amp;title, </span></span><br><span class="hljs-params"><span class="hljs-function">            <span class="hljs-type">const</span> QString &amp;label, <span class="hljs-type">double</span> value = <span class="hljs-number">0</span>, </span></span><br><span class="hljs-params"><span class="hljs-function">            <span class="hljs-type">double</span> min = <span class="hljs-number">-2147483647</span>, <span class="hljs-type">double</span> max = <span class="hljs-number">2147483647</span>, </span></span><br><span class="hljs-params"><span class="hljs-function">            <span class="hljs-type">int</span> decimals = <span class="hljs-number">1</span>, <span class="hljs-type">bool</span> *ok = <span class="hljs-literal">nullptr</span>, </span></span><br><span class="hljs-params"><span class="hljs-function">            Qt::WindowFlags flags = Qt::WindowFlags())</span></span>;<br>   <br><span class="hljs-comment">// 得到一个可以输入整形数的对话框窗口, 返回对话框窗口中输入的整形数</span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">参数:</span><br><span class="hljs-comment">  - parent: 对话框窗口的父窗口</span><br><span class="hljs-comment">  - title: 对话框窗口显示的标题信息</span><br><span class="hljs-comment">  - label: 对话框窗口中显示的文本信息(用于描述对话框的功能)</span><br><span class="hljs-comment">  - value: 对话框窗口中显示的整形值, 默认为 0</span><br><span class="hljs-comment">  - min: 对话框窗口支持显示的最小数值</span><br><span class="hljs-comment">  - max: 对话框窗口支持显示的最大数值</span><br><span class="hljs-comment">  - step: 步长, 通过对话框提供的按钮调节数值每次增长/递减的量</span><br><span class="hljs-comment">  - ok: 传出参数, 用于判断是否得到了有效数据, 一般不会使用该参数</span><br><span class="hljs-comment">  - flags: 对话框窗口的窗口属性, 使用默认值即可</span><br><span class="hljs-comment">*/</span><br>[<span class="hljs-type">static</span>] <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">QInputDialog::getInt</span><span class="hljs-params">(</span></span><br><span class="hljs-params"><span class="hljs-function">            QWidget *parent, <span class="hljs-type">const</span> QString &amp;title, </span></span><br><span class="hljs-params"><span class="hljs-function">            <span class="hljs-type">const</span> QString &amp;label, <span class="hljs-type">int</span> value = <span class="hljs-number">0</span>, </span></span><br><span class="hljs-params"><span class="hljs-function">            <span class="hljs-type">int</span> min = <span class="hljs-number">-2147483647</span>, <span class="hljs-type">int</span> max = <span class="hljs-number">2147483647</span>, </span></span><br><span class="hljs-params"><span class="hljs-function">            <span class="hljs-type">int</span> step = <span class="hljs-number">1</span>, <span class="hljs-type">bool</span> *ok = <span class="hljs-literal">nullptr</span>, </span></span><br><span class="hljs-params"><span class="hljs-function">            Qt::WindowFlags flags = Qt::WindowFlags())</span></span>;<br>   <br><span class="hljs-comment">// 得到一个带下来菜单的对话框窗口, 返回选择的菜单项上边的文本信息</span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">参数:</span><br><span class="hljs-comment">  - parent: 对话框窗口的父窗口</span><br><span class="hljs-comment">  - title: 对话框窗口显示的标题信息</span><br><span class="hljs-comment">  - label: 对话框窗口中显示的文本信息(用于描述对话框的功能)</span><br><span class="hljs-comment">  - items: 字符串列表, 用于初始化窗口中的下拉菜单, 每个字符串对应一个菜单项</span><br><span class="hljs-comment">  - current: 通过菜单项的索引指定显示下拉菜单中的哪个菜单项, 默认显示第一个(编号为0)</span><br><span class="hljs-comment">  - editable: 设置菜单项上的文本信息是否可以进行编辑, 默认为true, 即可以编辑</span><br><span class="hljs-comment">  - ok: 传出参数, 用于判断是否得到了有效数据, 一般不会使用该参数</span><br><span class="hljs-comment">  - flags: 对话框窗口的窗口属性, 使用默认值即可</span><br><span class="hljs-comment">  - inputMethodHints: 设置显示模式, 默认没有指定任何特殊显示格式, 显示普通文本字符串</span><br><span class="hljs-comment">    - 如果有特殊需求, 可以参数帮助文档进行相关设置</span><br><span class="hljs-comment">*/</span><br>[<span class="hljs-type">static</span>] <span class="hljs-function">QString <span class="hljs-title">QInputDialog::getItem</span><span class="hljs-params">(</span></span><br><span class="hljs-params"><span class="hljs-function">            QWidget *parent, <span class="hljs-type">const</span> QString &amp;title, </span></span><br><span class="hljs-params"><span class="hljs-function">            <span class="hljs-type">const</span> QString &amp;label, <span class="hljs-type">const</span> QStringList &amp;items, </span></span><br><span class="hljs-params"><span class="hljs-function">            <span class="hljs-type">int</span> current = <span class="hljs-number">0</span>, <span class="hljs-type">bool</span> editable = <span class="hljs-literal">true</span>, <span class="hljs-type">bool</span> *ok = <span class="hljs-literal">nullptr</span>, </span></span><br><span class="hljs-params"><span class="hljs-function">            Qt::WindowFlags flags = Qt::WindowFlags(), </span></span><br><span class="hljs-params"><span class="hljs-function">            Qt::InputMethodHints inputMethodHints = Qt::ImhNone)</span></span>;<br>   <br><span class="hljs-comment">// 得到一个可以输入多行数据的对话框窗口, 返回用户在窗口中输入的文本信息</span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">参数:</span><br><span class="hljs-comment">  - parent: 对话框窗口的父窗口</span><br><span class="hljs-comment">  - title: 对话框窗口显示的标题信息</span><br><span class="hljs-comment">  - label: 对话框窗口中显示的文本信息(用于描述对话框的功能)</span><br><span class="hljs-comment">  - text: 指定显示到多行输入框中的文本信息, 默认是空字符串</span><br><span class="hljs-comment">  - ok: 传出参数, 用于判断是否得到了有效数据, 一般不会使用该参数</span><br><span class="hljs-comment">  - flags: 对话框窗口的窗口属性, 使用默认值即可</span><br><span class="hljs-comment">  - inputMethodHints: 设置显示模式, 默认没有指定任何特殊显示格式, 显示普通文本字符串</span><br><span class="hljs-comment">    - 如果有特殊需求, 可以参数帮助文档进行相关设置</span><br><span class="hljs-comment">*/</span><br>[<span class="hljs-type">static</span>] <span class="hljs-function">QString <span class="hljs-title">QInputDialog::getMultiLineText</span><span class="hljs-params">(</span></span><br><span class="hljs-params"><span class="hljs-function">            QWidget *parent, <span class="hljs-type">const</span> QString &amp;title, <span class="hljs-type">const</span> QString &amp;label, </span></span><br><span class="hljs-params"><span class="hljs-function">            <span class="hljs-type">const</span> QString &amp;text = QString(), <span class="hljs-type">bool</span> *ok = <span class="hljs-literal">nullptr</span>, </span></span><br><span class="hljs-params"><span class="hljs-function">            Qt::WindowFlags flags = Qt::WindowFlags(), </span></span><br><span class="hljs-params"><span class="hljs-function">            Qt::InputMethodHints inputMethodHints = Qt::ImhNone)</span></span>;<br>   <br><span class="hljs-comment">// 得到一个可以输入单行信息的对话框窗口, 返回用户在窗口中输入的文本信息</span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">参数:</span><br><span class="hljs-comment">  - parent: 对话框窗口的父窗口 </span><br><span class="hljs-comment">  - title: 对话框窗口显示的标题信息</span><br><span class="hljs-comment">  - label: 对话框窗口中显示的文本信息(用于描述对话框的功能)</span><br><span class="hljs-comment">  - mode: 指定单行编辑框中数据的反馈模式, 是一个 QLineEdit::EchoMode 类型的枚举值</span><br><span class="hljs-comment">    - QLineEdit::Normal: 显示输入的字符。这是默认值</span><br><span class="hljs-comment">    - QLineEdit::NoEcho: 不要展示任何东西。这可能适用于连密码长度都应该保密的密码。</span><br><span class="hljs-comment">    - QLineEdit::Password: 显示与平台相关的密码掩码字符，而不是实际输入的字符。</span><br><span class="hljs-comment">    - QLineEdit::PasswordEchoOnEdit: 在编辑时按输入显示字符，否则按密码显示字符。</span><br><span class="hljs-comment">  - text: 指定显示到单行输入框中的文本信息, 默认是空字符串</span><br><span class="hljs-comment">  - ok: 传出参数, 用于判断是否得到了有效数据, 一般不会使用该参数</span><br><span class="hljs-comment">  - flags: 对话框窗口的窗口属性, 使用默认值即可</span><br><span class="hljs-comment">  - inputMethodHints: 设置显示模式, 默认没有指定任何特殊显示格式, 显示普通文本字符串</span><br><span class="hljs-comment">     - 如果有特殊需求, 可以参数帮助文档进行相关设置</span><br><span class="hljs-comment">*/</span><br>[<span class="hljs-type">static</span>] <span class="hljs-function">QString <span class="hljs-title">QInputDialog::getText</span><span class="hljs-params">(</span></span><br><span class="hljs-params"><span class="hljs-function">            QWidget *parent, <span class="hljs-type">const</span> QString &amp;title, <span class="hljs-type">const</span> QString &amp;label,</span></span><br><span class="hljs-params"><span class="hljs-function">            QLineEdit::EchoMode mode = QLineEdit::Normal, </span></span><br><span class="hljs-params"><span class="hljs-function">            <span class="hljs-type">const</span> QString &amp;text = QString(), <span class="hljs-type">bool</span> *ok = <span class="hljs-literal">nullptr</span>, </span></span><br><span class="hljs-params"><span class="hljs-function">            Qt::WindowFlags flags = Qt::WindowFlags(), </span></span><br><span class="hljs-params"><span class="hljs-function">            Qt::InputMethodHints inputMethodHints = Qt::ImhNone)</span></span>;<br>   <br></code></pre></td></tr></table></figure></li>
</ol>
<h4 id="QProgressDialog（进度条）"><a href="#QProgressDialog（进度条）" class="headerlink" title="QProgressDialog（进度条）"></a>QProgressDialog（进度条）</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// 构造函数</span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">参数:</span><br><span class="hljs-comment">  - labelText: 对话框中显示的提示信息</span><br><span class="hljs-comment">  - cancelButtonText: 取消按钮上显示的文本信息</span><br><span class="hljs-comment">  - minimum: 进度条最小值</span><br><span class="hljs-comment">  - maximum: 进度条最大值</span><br><span class="hljs-comment">  - parent: 当前窗口的父对象</span><br><span class="hljs-comment">  - f: 当前进度窗口的flag属性, 使用默认属性即可, 无需设置</span><br><span class="hljs-comment">*/</span><br>QProgressDialog::<span class="hljs-built_in">QProgressDialog</span>(<br>    QWidget *parent = <span class="hljs-literal">nullptr</span>, <br>    Qt::WindowFlags f = Qt::<span class="hljs-built_in">WindowFlags</span>());<br><br>QProgressDialog::<span class="hljs-built_in">QProgressDialog</span>(<br>    <span class="hljs-type">const</span> QString &amp;labelText, <span class="hljs-type">const</span> QString &amp;cancelButtonText, <br>    <span class="hljs-type">int</span> minimum, <span class="hljs-type">int</span> maximum, QWidget *parent = <span class="hljs-literal">nullptr</span>,<br>    Qt::WindowFlags f = Qt::<span class="hljs-built_in">WindowFlags</span>());<br><br><br><span class="hljs-comment">// 设置取消按钮显示的文本信息</span><br>[slot] <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QProgressDialog::setCancelButtonText</span><span class="hljs-params">(<span class="hljs-type">const</span> QString &amp;cancelButtonText)</span></span>;<br><br><span class="hljs-comment">// 公共成员函数和槽函数</span><br><span class="hljs-function">QString <span class="hljs-title">QProgressDialog::labelText</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QProgressDialog::setLabelText</span><span class="hljs-params">(<span class="hljs-type">const</span> QString &amp;text)</span></span>;<br><br><span class="hljs-comment">// 得到进度条最小值</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">QProgressDialog::minimum</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br><span class="hljs-comment">// 设置进度条最小值</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QProgressDialog::setMinimum</span><span class="hljs-params">(<span class="hljs-type">int</span> minimum)</span></span>;<br><br><span class="hljs-comment">// 得到进度条最大值</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">QProgressDialog::maximum</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br><span class="hljs-comment">// 设置进度条最大值</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QProgressDialog::setMaximum</span><span class="hljs-params">(<span class="hljs-type">int</span> maximum)</span></span>;<br><br><span class="hljs-comment">// 设置进度条范围(最大和最小值)</span><br>[slot] <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QProgressDialog::setRange</span><span class="hljs-params">(<span class="hljs-type">int</span> minimum, <span class="hljs-type">int</span> maximum)</span></span>;<br><br><span class="hljs-comment">// 得到进度条当前的值</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">QProgressDialog::value</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br><span class="hljs-comment">// 设置进度条当前的值</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QProgressDialog::setValue</span><span class="hljs-params">(<span class="hljs-type">int</span> progress)</span></span>;<br><br><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">QProgressDialog::autoReset</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br><span class="hljs-comment">// 当value() = maximum()时，进程对话框是否调用reset()，此属性默认为true。</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QProgressDialog::setAutoReset</span><span class="hljs-params">(<span class="hljs-type">bool</span> reset)</span></span>;<br><br><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">QProgressDialog::autoClose</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br><span class="hljs-comment">// 当value() = maximum()时，进程对话框是否调用reset()并且隐藏，此属性默认为true。</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QProgressDialog::setAutoClose</span><span class="hljs-params">(<span class="hljs-type">bool</span> close)</span></span>;<br><br><span class="hljs-comment">// 判断用户是否按下了取消键, 按下了返回true, 否则返回false</span><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">wasCanceled</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br><br><br><span class="hljs-comment">// 重置进度条</span><br><span class="hljs-comment">// 重置进度对话框。wascancelled()变为true，直到进程对话框被重置。进度对话框被隐藏。</span><br>[slot] <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QProgressDialog::cancel</span><span class="hljs-params">()</span></span>;<br><span class="hljs-comment">// 重置进度对话框。如果autoClose()为真，进程对话框将隐藏。</span><br>[slot] <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QProgressDialog::reset</span><span class="hljs-params">()</span></span>;   <br><br><span class="hljs-comment">// 信号</span><br><span class="hljs-comment">// 当单击cancel按钮时，将发出此信号。默认情况下，它连接到cancel()槽。</span><br>[signal] <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QProgressDialog::canceled</span><span class="hljs-params">()</span></span>;<br><br><span class="hljs-comment">// 设置窗口的显示状态(模态, 非模态)</span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">参数:</span><br><span class="hljs-comment">    Qt::NonModal  -&gt; 非模态</span><br><span class="hljs-comment">    Qt::WindowModal	-&gt; 模态, 阻塞父窗口</span><br><span class="hljs-comment">    Qt::ApplicationModal -&gt; 模态, 阻塞应用程序中的所有窗口</span><br><span class="hljs-comment">*/</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">QWidget::setWindowModality</span><span class="hljs-params">(Qt::WindowModality windowModality)</span></span>;<br><br></code></pre></td></tr></table></figure>



<h3 id="QMainWindow"><a href="#QMainWindow" class="headerlink" title="QMainWindow"></a>QMainWindow</h3><p><img src="https://allinit-1317182407.cos.ap-nanjing.myqcloud.com/qt/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230730161837845.png" srcset="/img/loading.gif" lazyload alt="image-20230730161837845"></p>
<p><img src="https://subingwen.cn/qt/qt-base-window/image-b255c1da57dc41f780f16f3e82f75f7c.png" srcset="/img/loading.gif" lazyload alt="QMainWindow类型窗口结构"></p>
<ol>
<li><p>菜单栏</p>
<ul>
<li><p>在ui中添加菜单栏</p>
<p><img src="https://allinit-1317182407.cos.ap-nanjing.myqcloud.com/qt/%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/image-20230730162004616.png" srcset="/img/loading.gif" lazyload alt="image-20230730162004616"></p>
</li>
</ul>
</li>
</ol>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/QT/">#QT</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>QT</div>
      <div>https://tsy244.github.io/2023/06/26/QT/QT/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>Author</div>
          <div>August Rosenberg</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Posted on</div>
          <div>June 26, 2023</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>Licensed under</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - Attribution">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/06/29/QT/qt%E9%9A%8F%E8%AE%B0/" title="qt随记">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">qt随记</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/06/26/c++/cpp%E6%96%B0%E7%89%B9%E6%80%A7/" title="c++新特性">
                        <span class="hidden-mobile">c++新特性</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>Table of Contents</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://github.com/TSY244?tab=repositories" target="_blank" rel="nofollow noopener"><span>github</span></a> <i class="iconfont icon-love"></i> <a href="https://august244.github.io/" target="_blank" rel="nofollow noopener"><span>随笔</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        Views: 
        <span id="busuanzi_value_site_pv"></span>
        
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        Visitors: 
        <span id="busuanzi_value_site_uv"></span>
        
      </span>
    
    
  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
</body>
</html>
